# =============================================================================
# ARQUIVO DE CONFIGURAÇÃO - NETWORK BACKUP SYSTEM
# =============================================================================
#
# IMPORTANTE:
# 1. Copie este arquivo para .env (cp .env.example .env)
# 2. Preencha as variáveis com valores reais
# 3. NUNCA commite o arquivo .env no Git
#
# Para gerar ENCRYPTION_KEY e SECRET_KEY, execute:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# =============================================================================

# -----------------------------------------------------------------------------
# AMBIENTE
# -----------------------------------------------------------------------------
# Ambiente da aplicação: development, staging, production
FLASK_ENV=development

# Ativar debug mode (NUNCA em produção!)
DEBUG=False

# Host e porta da aplicação
HOST=0.0.0.0
PORT=5000

# -----------------------------------------------------------------------------
# SEGURANÇA - CRIPTOGRAFIA
# -----------------------------------------------------------------------------
# Chave de criptografia para senhas no banco de dados (32+ caracteres)
# CRÍTICO: Mudar esta chave invalidará todas as senhas já criptografadas!
# Para gerar: python -c "import secrets; print(secrets.token_urlsafe(32))"
ENCRYPTION_KEY=SUBSTITUA_COM_CHAVE_SEGURA_GERADA

# Chave secreta do Flask para sessões e CSRF (32+ caracteres)
# Para gerar: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=SUBSTITUA_COM_CHAVE_SEGURA_GERADA

# -----------------------------------------------------------------------------
# BANCO DE DADOS - POSTGRESQL
# -----------------------------------------------------------------------------
# URL de conexão do PostgreSQL
# Formato: postgresql://usuario:senha@host:porta/nome_banco
# Exemplo: postgresql://backup_user:senha123@localhost:5432/network_backup

# Para desenvolvimento (se usar Docker)
DATABASE_URL=postgresql://backup_user:backup_password@localhost:5432/network_backup_dev

# Para produção (ajuste conforme seu ambiente)
# DATABASE_URL=postgresql://backup_user:senha_forte@db.exemplo.com:5432/network_backup_prod

# Pool de conexões (ajuste conforme carga)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# -----------------------------------------------------------------------------
# BANCO DE DADOS - SQLITE (Apenas para desenvolvimento/testes)
# -----------------------------------------------------------------------------
# Se preferir usar SQLite durante desenvolvimento, comente DATABASE_URL acima
# e descomente a linha abaixo:
# DATABASE_URL=sqlite:///backups.db

# -----------------------------------------------------------------------------
# AUTENTICAÇÃO
# -----------------------------------------------------------------------------
# Duração da sessão em dias
SESSION_PERMANENT_LIFETIME=7

# Forçar HTTPS em cookies de sessão (ativar em produção)
SESSION_COOKIE_SECURE=False

# HttpOnly cookie (proteção XSS)
SESSION_COOKIE_HTTPONLY=True

# SameSite cookie (proteção CSRF)
SESSION_COOKIE_SAMESITE=Lax

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
# Limite de requisições por minuto (ajuste conforme necessidade)
RATELIMIT_DEFAULT=100/minute
RATELIMIT_STORAGE_URL=memory://

# Para produção com Redis:
# RATELIMIT_STORAGE_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# BACKUP - CONFIGURAÇÕES
# -----------------------------------------------------------------------------
# Diretório onde os backups serão armazenados
BACKUP_DIR=backups

# Número de backups a manter por dispositivo (cleanup automático)
BACKUP_RETENTION_COUNT=5

# Timeout padrão para conexões (segundos)
BACKUP_TIMEOUT=60

# Máximo de workers para backup paralelo (Fase 3)
BACKUP_MAX_WORKERS=10

# Ativar compressão de backups (Fase 3)
BACKUP_COMPRESSION=False

# -----------------------------------------------------------------------------
# TIMEOUTS DE CONEXÃO
# -----------------------------------------------------------------------------
# Timeout de conexão SSH (segundos)
SSH_CONNECT_TIMEOUT=30

# Timeout de leitura SSH (segundos)
SSH_READ_TIMEOUT=30

# Timeout de comando SSH (segundos)
SSH_COMMAND_TIMEOUT=60

# Timeout HTTP para dispositivos web (segundos)
HTTP_TIMEOUT=30

# Timeout especial para Intelbras (radios lentos)
INTELBRAS_CONNECT_TIMEOUT=60

# Timeout para notificações (segundos)
NOTIFICATION_TIMEOUT=10

# -----------------------------------------------------------------------------
# VALORES PADRÃO
# -----------------------------------------------------------------------------
# Provedor padrão para dispositivos sem provedor
DEFAULT_PROVEDOR=Sem_Provedor

# Porta SSH padrão
DEFAULT_SSH_PORT=22

# Tamanho máximo de upload (MB)
MAX_UPLOAD_SIZE_MB=16

# -----------------------------------------------------------------------------
# SSL/TLS
# -----------------------------------------------------------------------------
# Forçar verificação de certificados SSL (ativar em produção)
SSL_VERIFY=True

# Caminho para CA bundle personalizado (opcional)
# SSL_CA_BUNDLE=/path/to/ca-bundle.crt

# Forçar HTTPS (redirecionamento automático)
FORCE_HTTPS=False

# -----------------------------------------------------------------------------
# NOTIFICAÇÕES (Fase 2)
# -----------------------------------------------------------------------------
# Email (SMTP)
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USE_TLS=True
# SMTP_USERNAME=seu-email@gmail.com
# SMTP_PASSWORD=sua-senha-app
# SMTP_FROM=network-backup@sua-empresa.com
# SMTP_TO=admin@sua-empresa.com

# Webhook (Slack, Discord, Teams)
# WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Telegram Bot
# TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
# TELEGRAM_CHAT_ID=-123456789

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
# Nível de log: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Diretório de logs
LOG_DIR=logs

# Tamanho máximo de arquivo de log (MB)
LOG_MAX_SIZE=10

# Número de arquivos de log a manter
LOG_BACKUP_COUNT=10

# Formato de log: json ou text
LOG_FORMAT=json

# -----------------------------------------------------------------------------
# MONITORAMENTO (Fase 2)
# -----------------------------------------------------------------------------
# Prometheus metrics endpoint ativo
# METRICS_ENABLED=True

# Sentry (error tracking)
# SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0

# -----------------------------------------------------------------------------
# REDIS (Fase 3 - Celery)
# -----------------------------------------------------------------------------
# URL do Redis (message broker)
# REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# CELERY (Fase 3 - Agendamento Distribuído)
# -----------------------------------------------------------------------------
# Broker do Celery
# CELERY_BROKER_URL=redis://localhost:6379/0

# Backend de resultados
# CELERY_RESULT_BACKEND=redis://localhost:6379/1

# -----------------------------------------------------------------------------
# CLOUD STORAGE (Fase 4)
# -----------------------------------------------------------------------------
# AWS S3
# AWS_ACCESS_KEY_ID=sua-access-key
# AWS_SECRET_ACCESS_KEY=sua-secret-key
# AWS_S3_BUCKET=network-backups
# AWS_S3_REGION=us-east-1

# Azure Blob Storage
# AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;...
# AZURE_CONTAINER_NAME=network-backups

# Google Cloud Storage
# GCS_BUCKET_NAME=network-backups
# GCS_CREDENTIALS_PATH=/path/to/credentials.json

# -----------------------------------------------------------------------------
# TIMEZONE
# -----------------------------------------------------------------------------
# Timezone para timestamps (padrão: America/Porto_Velho)
TIMEZONE=America/Porto_Velho

# -----------------------------------------------------------------------------
# DOCKER (Se usar Docker Compose)
# -----------------------------------------------------------------------------
# POSTGRES_USER=backup_user
# POSTGRES_PASSWORD=backup_password
# POSTGRES_DB=network_backup_dev
# PGDATA=/var/lib/postgresql/data/pgdata
